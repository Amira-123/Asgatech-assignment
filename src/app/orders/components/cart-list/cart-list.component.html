<section class="cart mt-2">
  <h2>Shopping Cart</h2>
  <div class="d-md-flex justify-content-between cart-content d-sm-block">
    <p>
      You have
      <span class="font-weight-bold">{{ cartProduct.length }}</span> items in
      your cart
    </p>
    <span class="clear p-2" (click)="clearAllCart()">clear shopping cart</span>
  </div>

  <!-- ----------------------new style table----- -->
  <div class="mt-3">
    <table class="table table-striped table-hover">
      <thead>
        <th>Product</th>
        <th class="text-center">Name</th>
        <th>Price</th>
        <th class="text-center">Quantity</th>
        <th>Total</th>
        <th>Action</th>
      </thead>
      <tbody>
        <tr *ngFor="let item of cartProduct; let index = index">
          <td data-label="Product">
            <img [src]="item.ProductImg" alt="item.ProductName" />
          </td>
          <td data-label="Name">{{ item.ProductName }}</td>
          <td data-label="Price" class="price">{{ item.ProductPrice }} L.E</td>
          <td data-label="Quantity">
            <div class="quantity d-flex">
              <button class="btn btn-secondary" (click)="plusAmount(index)">
                +
              </button>
              <input
                type="number"
                min="1"
                class="text-center mx-2"
                (change)="detectChangeAmount()"
                min="1"
                [(ngModel)]="item.Quantity"
              />
              <button class="btn btn-secondary" (click)="minusAmount(index)">
                -
              </button>
            </div>
          </td>
          <td data-label="Total" class="total">
            {{ $any(item.Quantity) * item.ProductPrice }} L.E
          </td>
          <td data-label="Action" class="action">
            <i
              class="fa-solid fa-trash fa-1x text-danger"
              (click)="deleteProduct(index)"
            ></i>
          </td>
        </tr>
      </tbody>
      <tfoot>
        <tr>
          <td colspan="6">
            <div class="d-md-flex justify-content-between d-sm-block">
              <div class="shop">
                <button class="btn shopping" routerLink="/">
                  Continue shopping
                </button>
              </div>
              <div>
                <span> Total:{{ total }} L.E</span>
                <button class="btn order" (click)="onCreateOrder()">
                  Order Cart Now
                </button>
              </div>
            </div>
          </td>
        </tr>
      </tfoot>
    </table>
  </div>
</section>
